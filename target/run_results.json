{"logs": [], "results": [{"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_accepted_values(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "accepted_values", "kwargs": {"values": ["placed", "shipped", "completed", "return_pending", "returned"], "column_name": "status", "model": "{{ ref('stg_orders') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "accepted_values_stg_orders_status__placed__shipped__completed__return_pending__returned"], "unique_id": "test.jaffle_shop.accepted_values_stg_orders_status__placed__shipped__completed__return_pending__returned", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/accepted_values_stg_orders_758238c28b8980ea7fe9d60a8d851ea8.sql", "original_file_path": "models/schema.yml", "name": "accepted_values_stg_orders_status__placed__shipped__completed__return_pending__returned", "resource_type": "test", "alias": "accepted_values_stg_orders_status__placed__shipped__completed__return_pending__returned", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["stg_orders"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_accepted_values"], "nodes": ["model.jaffle_shop.stg_orders"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/accepted_values_stg_orders_758238c28b8980ea7fe9d60a8d851ea8.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\n\nwith all_values as (\n\n    select distinct\n        status as value_field\n\n    from analytics.dbt_pnewman.stg_orders\n\n),\n\nvalidation_errors as (\n\n    select\n        value_field\n\n    from all_values\n    where value_field not in (\n        'placed','shipped','completed','return_pending','returned'\n    )\n)\n\nselect count(*) as validation_errors\nfrom validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\n\nwith all_values as (\n\n    select distinct\n        status as value_field\n\n    from analytics.dbt_pnewman.stg_orders\n\n),\n\nvalidation_errors as (\n\n    select\n        value_field\n\n    from all_values\n    where value_field not in (\n        'placed','shipped','completed','return_pending','returned'\n    )\n)\n\nselect count(*) as validation_errors\nfrom validation_errors\n\n\n", "column_name": "status"}, "error": null, "status": 0.0, "execution_time": 1.2974202632904053, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:40.636652Z", "completed_at": "2021-02-10T23:36:40.730726Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:40.731038Z", "completed_at": "2021-02-10T23:36:41.577906Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "customer_id", "model": "{{ ref('customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "not_null_customers_customer_id"], "unique_id": "test.jaffle_shop.not_null_customers_customer_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/not_null_customers_customer_id.sql", "original_file_path": "models/schema.yml", "name": "not_null_customers_customer_id", "resource_type": "test", "alias": "not_null_customers_customer_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["customers"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.jaffle_shop.customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/not_null_customers_customer_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.customers\nwhere customer_id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.customers\nwhere customer_id is null\n\n\n", "column_name": "customer_id"}, "error": null, "status": 0.0, "execution_time": 1.308922529220581, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:41.934479Z", "completed_at": "2021-02-10T23:36:41.962782Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:41.963073Z", "completed_at": "2021-02-10T23:36:42.852666Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "customer_id", "model": "{{ ref('stg_customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "not_null_stg_customers_customer_id"], "unique_id": "test.jaffle_shop.not_null_stg_customers_customer_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/not_null_stg_customers_customer_id.sql", "original_file_path": "models/schema.yml", "name": "not_null_stg_customers_customer_id", "resource_type": "test", "alias": "not_null_stg_customers_customer_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["stg_customers"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.jaffle_shop.stg_customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/not_null_stg_customers_customer_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.stg_customers\nwhere customer_id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.stg_customers\nwhere customer_id is null\n\n\n", "column_name": "customer_id"}, "error": null, "status": 0.0, "execution_time": 1.445066213607788, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:43.244269Z", "completed_at": "2021-02-10T23:36:43.276896Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:43.277257Z", "completed_at": "2021-02-10T23:36:44.327725Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "order_id", "model": "{{ ref('stg_orders') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "not_null_stg_orders_order_id"], "unique_id": "test.jaffle_shop.not_null_stg_orders_order_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/not_null_stg_orders_order_id.sql", "original_file_path": "models/schema.yml", "name": "not_null_stg_orders_order_id", "resource_type": "test", "alias": "not_null_stg_orders_order_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["stg_orders"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.jaffle_shop.stg_orders"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/not_null_stg_orders_order_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.stg_orders\nwhere order_id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom analytics.dbt_pnewman.stg_orders\nwhere order_id is null\n\n\n", "column_name": "order_id"}, "error": null, "status": 0.0, "execution_time": 1.251260757446289, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:44.689694Z", "completed_at": "2021-02-10T23:36:44.715175Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:44.715470Z", "completed_at": "2021-02-10T23:36:45.538373Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "id", "model": "{{ source('jaffle_shop', 'customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "source_not_null_jaffle_shop_customers_id"], "unique_id": "test.jaffle_shop.source_not_null_jaffle_shop_customers_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/source_not_null_jaffle_shop_customers_id.sql", "original_file_path": "models/sources.yml", "name": "source_not_null_jaffle_shop_customers_id", "resource_type": "test", "alias": "source_not_null_jaffle_shop_customers_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [], "sources": [["jaffle_shop", "customers"]], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["source.jaffle_shop.jaffle_shop.customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/sources.yml/schema_test/source_not_null_jaffle_shop_customers_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom raw.jaffle_shop.customers\nwhere id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom raw.jaffle_shop.customers\nwhere id is null\n\n\n", "column_name": "id"}, "error": null, "status": 0.0, "execution_time": 1.0683674812316895, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:45.941410Z", "completed_at": "2021-02-10T23:36:45.978637Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:45.978892Z", "completed_at": "2021-02-10T23:36:46.689398Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_unique(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "unique", "kwargs": {"column_name": "id", "model": "{{ source('jaffle_shop', 'customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "source_unique_jaffle_shop_customers_id"], "unique_id": "test.jaffle_shop.source_unique_jaffle_shop_customers_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/source_unique_jaffle_shop_customers_id.sql", "original_file_path": "models/sources.yml", "name": "source_unique_jaffle_shop_customers_id", "resource_type": "test", "alias": "source_unique_jaffle_shop_customers_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [], "sources": [["jaffle_shop", "customers"]], "depends_on": {"macros": ["macro.dbt.test_unique"], "nodes": ["source.jaffle_shop.jaffle_shop.customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/sources.yml/schema_test/source_unique_jaffle_shop_customers_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        id\n\n    from raw.jaffle_shop.customers\n    where id is not null\n    group by id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        id\n\n    from raw.jaffle_shop.customers\n    where id is not null\n    group by id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "column_name": "id"}, "error": null, "status": 0.0, "execution_time": 1.0582873821258545, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:47.010266Z", "completed_at": "2021-02-10T23:36:47.032291Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:47.032538Z", "completed_at": "2021-02-10T23:36:47.754762Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_unique(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "unique", "kwargs": {"column_name": "customer_id", "model": "{{ ref('customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "unique_customers_customer_id"], "unique_id": "test.jaffle_shop.unique_customers_customer_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/unique_customers_customer_id.sql", "original_file_path": "models/schema.yml", "name": "unique_customers_customer_id", "resource_type": "test", "alias": "unique_customers_customer_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["customers"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_unique"], "nodes": ["model.jaffle_shop.customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/unique_customers_customer_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        customer_id\n\n    from analytics.dbt_pnewman.customers\n    where customer_id is not null\n    group by customer_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        customer_id\n\n    from analytics.dbt_pnewman.customers\n    where customer_id is not null\n    group by customer_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "column_name": "customer_id"}, "error": null, "status": 0.0, "execution_time": 1.3612611293792725, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:48.069068Z", "completed_at": "2021-02-10T23:36:48.100341Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:48.100816Z", "completed_at": "2021-02-10T23:36:49.066521Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_unique(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "unique", "kwargs": {"column_name": "customer_id", "model": "{{ ref('stg_customers') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "unique_stg_customers_customer_id"], "unique_id": "test.jaffle_shop.unique_stg_customers_customer_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/unique_stg_customers_customer_id.sql", "original_file_path": "models/schema.yml", "name": "unique_stg_customers_customer_id", "resource_type": "test", "alias": "unique_stg_customers_customer_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["stg_customers"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_unique"], "nodes": ["model.jaffle_shop.stg_customers"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/unique_stg_customers_customer_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        customer_id\n\n    from analytics.dbt_pnewman.stg_customers\n    where customer_id is not null\n    group by customer_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        customer_id\n\n    from analytics.dbt_pnewman.stg_customers\n    where customer_id is not null\n    group by customer_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "column_name": "customer_id"}, "error": null, "status": 0.0, "execution_time": 1.2389013767242432, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:49.430806Z", "completed_at": "2021-02-10T23:36:49.457336Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:49.457589Z", "completed_at": "2021-02-10T23:36:50.244099Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_unique(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "unique", "kwargs": {"column_name": "order_id", "model": "{{ ref('stg_orders') }}"}}, "compiled": true, "database": "analytics", "schema": "dbt_pnewman", "fqn": ["jaffle_shop", "schema_test", "unique_stg_orders_order_id"], "unique_id": "test.jaffle_shop.unique_stg_orders_order_id", "package_name": "jaffle_shop", "root_path": "/usr/src/develop/user-15386/environment-19602/repository-16071", "path": "schema_test/unique_stg_orders_order_id.sql", "original_file_path": "models/schema.yml", "name": "unique_stg_orders_order_id", "resource_type": "test", "alias": "unique_stg_orders_order_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["stg_orders"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_unique"], "nodes": ["model.jaffle_shop.stg_orders"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/jaffle_shop/models/schema.yml/schema_test/unique_stg_orders_order_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        order_id\n\n    from analytics.dbt_pnewman.stg_orders\n    where order_id is not null\n    group by order_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        order_id\n\n    from analytics.dbt_pnewman.stg_orders\n    where order_id is not null\n    group by order_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "column_name": "order_id"}, "error": null, "status": 0.0, "execution_time": 1.381091833114624, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2021-02-10T23:36:50.670532Z", "completed_at": "2021-02-10T23:36:50.703467Z"}, {"name": "execute", "started_at": "2021-02-10T23:36:50.703815Z", "completed_at": "2021-02-10T23:36:51.676973Z"}], "fail": null, "warn": null, "skip": false}], "generated_at": "2021-02-10T23:36:52.053393Z", "elapsed_time": 12.540780544281006}